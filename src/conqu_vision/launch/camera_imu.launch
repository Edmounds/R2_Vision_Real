<launch>
    <include file="$(find orbbec_camera)/launch/gemini_330_series.launch">
    

        <arg name="camera_name" value="camera"/>
        <arg name="enable_accel" value="true"/>
        <arg name="enable_gyro" value="true"/>
        <arg name="enable_sync_output_accel_gyro" value="true"/>
        <arg name="accel_rate" default="50hz"/>
        <arg name="accel_range" default="4g"/>
        <arg name="gyro_rate" default="50hz"/>
        <arg name="gyro_range" default="1000dps"/>
        <arg name="liner_accel_cov" default="0.01"/>
        <param name="enable_sync_host_time" value="true" />
        <param name="time_domain" value="system" /> 
    </include>


    <node pkg="imu_filter_madgwick" type="imu_filter_node" name="imu_filter_madgwick" output="screen">
        <param name="use_mag" value="false" /> <!-- 是否使用磁力计数据 -->
        <param name="publish_tf" value="false" /> <!-- 是否发布TF变换 -->
        <param name="world_frame" value="enu" /> <!-- 世界坐标系设定 -->
        <remap from="/imu/data_raw" to="/camera/gyro_accel/sample"/> <!-- 输入原始IMU数据话题 -->
        <remap from="/imu/data" to="/imu/filter" /> <!-- 输出滤波后数据话题 -->
        <param name="use_ros_time" value="true"/>
    </node>
</launch>